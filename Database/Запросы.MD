-------------------------------USERS  Пользователи----------------------------------

Добавить пользователя
Зачем: регистрация нового пользователя

	INSERT INTO Users (Login, Password, FullName, Email, Role)
	VALUES (@login, @password, @fullName, @email, @role);



Добавить пользователя
Зачем: регистрация нового пользователя

	INSERT INTO Users (Login, Password, FullName, Email, Role)
	VALUES (@login, @password, @fullName, @email, @role);



Проверка логина и пароля
Зачем: авторизация

	SELECT Id, Role
	FROM Users
	WHERE Login = @login AND Password = @password;



Обновить данные пользователя
Зачем: редактирование профиля

	UPDATE Users
	SET FullName = @fullName,
		Email = @email,
		Role = @role
	WHERE Id = @id;



Удалить пользователя
Зачем: убрать пользователя из системы

	DELETE FROM Users
	WHERE Id = @id;


--------------------------------WAREHOUSES  Склады--------------------------------------


Добавить склад
Зачем: создать новый склад

	INSERT INTO Warehouses (Name, Location, Capacity)
	VALUES (@name, @location, @capacity);



Получить все склады
Зачем: список складов

	SELECT * FROM Warehouses;



Обновить склад
Зачем: изменить адрес / вместимость

	UPDATE Warehouses
	SET Name = @name,
		Location = @location,
		Capacity = @capacity
	WHERE Id = @id;



Удалить склад
Зачем: удалить склад 

	DELETE FROM Warehouses
	WHERE Id = @id;



---------------------------------------PRODUCTS  Товары------------------------------------


Добавить товар
Зачем: завести новый товар

	INSERT INTO Products
	(Name, SKU, Description, Price, Quantity, WarehouseId)
	VALUES (@name, @sku, @desc, @price, @qty, @warehouseId);



Получить все товары
Зачем: общий список товаров

	SELECT p.Id, p.Name, p.SKU, p.Price, p.Quantity,
		   w.Name AS Warehouse
	FROM Products p
	LEFT JOIN Warehouses w ON w.Id = p.WarehouseId;



Найти товар по SKU
Зачем: быстрый поиск

	SELECT * FROM Products
	WHERE SKU = @sku;



Увеличить остаток товара (приход)(у меня приход от этой хуйни)
Зачем: товар приехал на склад

	UPDATE Products
	SET Quantity = Quantity + @qty
	WHERE Id = @productId;



Списание товара
Зачем: брак / продажа / проёб

	UPDATE Products
	SET Quantity = Quantity - @qty
	WHERE Id = @productId AND Quantity >= @qty;



Удалить товар
Зачем: товар больше не существует

	DELETE FROM Products
	WHERE Id = @id;



------------------------------------SUPPLIERS Поставщики--------------------------------------
Добавить поставщика
Зачем: завести нового поставщика

	INSERT INTO Suppliers (Name, Contact, Email, Phone, Address)
	VALUES (@name, @contact, @email, @phone, @address);

Получить всех поставщиков
Зачем: список поставщиков

	SELECT * FROM Suppliers;

Удалить поставщика
Зачем: если больше не работаете

	DELETE FROM Suppliers
	WHERE Id = @id;

---------------------------------------DELIVERIES  Поставки---------------------------------------
Добавить поставку
Зачем: зафиксировать приход товара

	INSERT INTO Deliveries (ProductId, SupplierId, Quantity)
	VALUES (@productId, @supplierId, @qty);

История поставок
Зачем: отчёт по приходу

	SELECT d.Id,
		   p.Name AS Product,
		   s.Name AS Supplier,
		   d.Quantity,
		   d.DeliveryDate
	FROM Deliveries d
	JOIN Products p ON p.Id = d.ProductId
	JOIN Suppliers s ON s.Id = d.SupplierId
	ORDER BY d.DeliveryDate DESC;

-----------------------------------ПЕРЕМЕЩЕНИЕ МЕЖДУ СКЛАДАМИ----------------------------------------

Уменьшить товар на старом складе
Зачем: убрать со склада-источника

	UPDATE Products
	SET Quantity = Quantity - @qty
	WHERE Id = @productId
	  AND WarehouseId = @fromWarehouse
	  AND Quantity >= @qty;

Добавить товар на новом складе
Зачем: положить на склад-приёмник

	UPDATE Products
	SET Quantity = Quantity + @qty,
		WarehouseId = @toWarehouse
	WHERE Id = @productId;


--------------------------------------ACTIONS  Журнал действий--------------------------------------
Записать действие
Зачем: аудит — кто что натворил

	INSERT INTO Actions (UserId, ActionType, Description)
	VALUES (@userId, @type, @desc);

Лента действий
Зачем: история активности

	SELECT a.ActionDate,
		   u.Login,
		   a.ActionType,
		   a.Description
	FROM Actions a
	LEFT JOIN Users u ON u.Id = a.UserId
	ORDER BY a.ActionDate DESC;

-------------------------------------HISTORY  История изменений----------------------------------------
Записать изменение
Зачем: фиксировать изменения данных

	INSERT INTO History (Entity, EntityId, UserId, Change)
	VALUES (@entity, @entityId, @userId, @change);

История по объекту
Зачем: посмотреть, что происходило с товаром / складом

	SELECT h.ChangeDate,
		   u.Login,
		   h.Change
	FROM History h
	LEFT JOIN Users u ON u.Id = h.UserId
	WHERE h.Entity = @entity AND h.EntityId = @id
	ORDER BY h.ChangeDate DESC;

--------------------------------------SETTINGS  Настройки----------------------------------------
Установить настройку
Зачем: хранить конфиги

	INSERT OR REPLACE INTO Settings (Key, Value)
	VALUES (@key, @value);

Получить настройку
Зачем: прочитать конфиг

	SELECT Value
	FROM Settings
	WHERE Key = @key;